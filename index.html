<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Toy Tale</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="toy-header">
      <img
        src="https://fontmeme.com/permalink/180719/67429e6afec53d21d64643101c43f029.png"
        alt="toy-header"
      />
    </div>
    <div class="container">
      <form id="toy-form" class="add-toy-form">
        <h3>Create a toy!</h3>

        <input
          id="toy-name"
          type="text"
          name="name"
          value=""
          placeholder="Enter a toy's name..."
          class="input-text"
        />
        <br />
        <input
          id="toy-image"
          type="text"
          name="image"
          value=""
          placeholder="Enter a toy's image URL..."
          class="input-text"
        />
        <br />
        <input
          type="submit"
          name="submit"
          value="Create Toy"
          class="submit"
        />
      </form>
    </div>
    <p style="text-align:center">
      Andy needs your help! <button id="new-toy-btn">Add a new toy!</button>
    </p>

    <div id="toy-collection"></div>
    <script type="text/javascript" src="src/index.js"></script>
    <script>
      const toyCollection = document.querySelector('#toy-collection');

      fetch('db.json')
        .then(response => response.json())
        .then(data => {
          const toys = data.toys;

          toys.forEach(toy => {
            const card = document.createElement('div');
            card.classList.add('card');

            const name = document.createElement('div');
            name.textContent = toy.name;
            name.classList.add('card-name');

            const image = document.createElement('img');
            image.src = toy.image;
            image.classList.add('card-image');

            const likes = document.createElement('div');
            likes.textContent = `${toy.likes} Likes`;
            likes.classList.add('card-likes');

            const button = document.createElement('button');
            button.classList.add('like-btn');
            button.dataset.id = toy.id;
            button.textContent = 'Like ❤️';

            card.appendChild(name);
            card.appendChild(image);
            card.appendChild(likes);
            card.appendChild(button);

            toyCollection.appendChild(card);
          });
        })
        .catch(error => {
          console.error('Error:', error);
        });
    </script>
  </body>
</html>
